\documentclass{standalone}
\usepackage{mathtools}
\usepackage{tikz}
\usetikzlibrary{positioning,fit,shapes,calc}
\usetikzlibrary{arrows.meta}
\usetikzlibrary{backgrounds}
\definecolor{processblue}{cmyk}{1,1,1,0}

\newenvironment{graph}{
  \begin{tikzpicture}
  [
    -latex, auto,
    node distance = 0.6cm and 1.0cm,
    on grid, semithick,
    state/.style = {
      rectangle,
      top color = white,
      bottom color = processblue!10,
      % bottom color = white,
      draw,
      processblue,
      text=black,
      minimum width = 0.5cm,
      minimum height = 0.5cm
    },
    box/.style = {
      rectangle,
      rounded corners,
      % top color = white,
      bottom color = processblue!4,
      top color = processblue!4,
      draw,
      processblue,
      text=black,
      minimum width = 0.5 cm,
      minimum height = 1cm
    },
    operation/.style = {
      circle,
      top color = white,
      bottom color = white,
      % bottom color = processblue!10,
      draw,
      black,
      text=black,
      minimum width = 0.2cm
    },
    connect/.style = {
      circle,
      top color = black,
      bottom color = black,
      draw,
      black,
      text=black,
      inner sep = 1pt,
    },
    >=Stealth
  ]
}{
  \end{tikzpicture}
}

\usepackage{times}
\usepackage{amssymb}
\usepackage{uniinput}

\begin{document}
\begin{graph}
  \node[state,label=left:0] (x0) {};
  \node[state,label=left:1] (x1) [below = of x0] {};
  \node[state,label=left:2] (x2) [below = of x1] {};
  \node[state,label=left:3] (x3) [below = of x2] {};
  \node[state,label=left:4] (x4) [below = of x3] {};
  \node[state,label=left:5] (x5) [below = of x4] {};
  \node[state,label=left:6] (x6) [below = of x5] {};
  \node[state,label=left:7] (x7) [below = of x6] {};

  \node[state] (y0) [right = 4 of x0] {};
  \node[state] (y1) [below = of y0] {};
  \node[state] (y2) [below = of y1] {};
  \node[state] (y3) [below = of y2] {};
  \node[state] (y4) [below = of y3] {};
  \node[state] (y5) [below = of y4] {};
  \node[state] (y6) [below = of y5] {};
  \node[state] (y7) [below = of y6] {};

  \draw[-] (x0) -- (y0);
  \draw[-] (x1) -- (y1);
  \draw[-] (x2) -- (y2);
  \draw[-] (x3) -- (y3);
  \draw[-] (x4) -- (y4);
  \draw[-] (x5) -- (y5);
  \draw[-] (x6) -- (y6);
  \draw[-] (x7) -- (y7);

  \node[operation] (a) [right = of x0] {};
  \node[connect] (b) [right = of x1] {};
  \node[connect] (c) [right = of x5] {};
  \draw[-] (a) -- (b) -- (c);

  \node[operation] (a) [right = 2 of x1] {};
  \node[connect] (b) [right = 2 of x2] {};
  \node[connect] (c) [right = 2 of x6] {};
  \draw[-] (a) -- (b) -- (c);

  \node[operation] (a) [right = 3 of x2] {};
  \node[connect] (b) [right = 3 of x3] {};
  \node[connect] (c) [right = 3 of x7] {};
  \draw[-] (a) -- (b) -- (c);


  \node[state] (z0) [right = 5 of y0] {};
  \node[state] (z1) [below = of z0] {};
  \node[state] (z2) [below = of z1] {};
  \node[state] (z3) [below = of z2] {};
  \node[state] (z4) [below = of z3] {};
  \node[state] (z5) [below = of z4] {};
  \node[state] (z6) [below = of z5] {};
  \node[state] (z7) [below = of z6] {};

  \draw[-] (y0) -- (z0);
  \draw[-] (y1) -- (z1);
  \draw[-] (y2) -- (z2);
  \draw[-] (y3) -- (z3);
  \draw[-] (y4) -- (z4);
  \draw[-] (y5) -- (z5);
  \draw[-] (y6) -- (z6);
  \draw[-] (y7) -- (z7);

  \node[operation] (a) [right = of y3] {};
  \node[connect] (b) [right = of y4] {};
  \node[connect] (c) [right = of y0] {};
  \draw[-] (a) -- (b);
  \draw[-] (a) -- (c);

  \node[operation] (a) [right = 2 of y4] {};
  \node[connect] (b) [right = 2 of y5] {};
  \node[connect] (c) [right = 2 of y1] {};
  \draw[-] (a) -- (b);
  \draw[-] (a) -- (c);

  \node[operation] (a) [right = 3 of y5] {};
  \node[connect] (b) [right = 3 of y6] {};
  \node[connect] (c) [right = 3 of y2] {};
  \draw[-] (a) -- (b);
  \draw[-] (a) -- (c);

  \node[operation] (a) [right = 4 of y6] {};
  \node[connect] (b) [right = 4 of y7] {};
  \node[connect] (c) [right = 4 of y3] {};
  \draw[-] (a) -- (b);
  \draw[-] (a) -- (c);


  \node[state,label=right:0] (w0) [right = 2 of z0] {};
  \node[state,label=right:1] (w1) [below = of w0] {};
  \node[state,label=right:2] (w2) [below = of w1] {};
  \node[state,label=right:3] (w3) [below = of w2] {};
  \node[state,label=right:4] (w4) [below = of w3] {};
  \node[state,label=right:5] (w5) [below = of w4] {};
  \node[state,label=right:6] (w6) [below = of w5] {};
  \node[state,label=right:7] (w7) [below = of w6] {};

  \draw[-] (z0) -- (w0);
  \draw[-] (z1) -- (w1);
  \draw[-] (z2) -- (w2);
  \draw[-] (z3) -- (w3);
  \draw[-] (z4) -- (w4);
  \draw[-] (z5) -- (w5);
  \draw[-] (z6) -- (w6);
  \draw[-] (z7) -- (w7);

  \node[operation] (a) [right = of z7] {};
  \node[connect] (b) [right = of z4] {};
  \node[connect] (c) [right = of z0] {};
  \draw[-] (a) -- (b) -- (c);

%   \begin{scope}[on background layer]
%     \node[box,fit=(x0) (xn1),inner sep = 8pt, text = black, text opacity = 1,text height=0.0cm,label=State] (T) {};
%     \node[box,fit=(y0) (yn1),inner sep = 8pt, text = black, text opacity = 1,text height=0.0cm,label=State] (T) {};
%     \node[fit=(upper) (swap01), inner sep = 8pt,label=Transition] (T) {};
%     \node[box,fit=(x1) (xn1),inner sep = 5pt,bottom color=white] (T) {};
%     \node[box,fit=(y0) (yn2),inner sep = 5pt,bottom color=white] (T) {};
%     % \node[fit=(add) (tmp3) (tmp4), inner sep = 8pt,label=Generation] (T) {};
%   \end{scope}
\end{graph}
\end{document}